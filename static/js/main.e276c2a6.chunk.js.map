{"version":3,"sources":["redux/auth-reducer.js","components/Login.jsx","components/Header.jsx","hoc/withAuthRedirect.js","components/Profile.jsx","video/video-1.mp4","components/Main.jsx","App.js","redux/store.js","index.js"],"names":["SET_USER_DATA","initialState","email","password","isAuth","setAuthUserData","type","payload","authReducer","state","action","required","value","undefined","test","renderField","input","label","meta","touched","error","warning","className","placeholder","LoginReduxForm","reduxForm","form","props","onSubmit","handleSubmit","Field","name","component","validate","connect","auth","login","dispatch","to","formData","HeaderContainer","this","React","Component","Header","onClick","logout","mapStateToPropsForRedirect","Profile","compose","RedirectComponent","Main","src","video","autoPlay","loop","muted","App","exact","path","render","reducers","combineReducers","formReducer","store","createStore","applyMiddleware","thunkMiddleware","window","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.e276c2a6.chunk.js","sourcesContent":["const SET_USER_DATA = 'SET_USER_DATA';\r\n\r\n\r\nlet initialState = {\r\n    email: null,\r\n    password: null,\r\n    isAuth: false\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (email, password, isAuth) => ({type: SET_USER_DATA, payload:{email, password, isAuth}});\r\n\r\nexport const login = (email, password) => (dispatch) => {\r\n   dispatch(setAuthUserData(email, password, true))\r\n}\r\n\r\nexport const logout = () => (dispatch) => {\r\n  dispatch(setAuthUserData(null, null, false));\r\n}\r\n\r\n\r\nexport default authReducer;\r\n","import {Field, reduxForm} from \"redux-form\"\r\nimport {Redirect} from \"react-router-dom\"\r\nimport {connect} from \"react-redux\"\r\nimport {login} from \"../redux/auth-reducer\"\r\nimport React from \"react\"\r\nimport './styles.css'\r\n\r\n\r\nconst required = value => value ? undefined : 'Обязательное поле'\r\n\r\nconst email = value =>\r\n    value && !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(value) ?\r\n        'Введите корректный e-mail адрес' : undefined\r\n\r\n\r\nconst password = value =>\r\n    value && !/(?=.*[0-9])(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z!@#$%^&*]{8,}/g.test(value) ?\r\n        'Ваш пароль недостаточно надёжен' : undefined\r\n\r\n\r\nconst renderField = ({input, label, type, meta: {touched, error, warning}}) => (\r\n    <div className={'form__wrapper'}>\r\n        <div className={'column__right'}>\r\n            <label>{label}:</label>\r\n        </div>\r\n        <div className={'column'}>\r\n            <input {...input} placeholder={label} type={type}/>\r\n            {touched && ((error && <span className={'span'}>{error}</span>) || (warning &&\r\n                <span className={'span'}>{warning}</span>))}\r\n        </div>\r\n\r\n    </div>\r\n)\r\n\r\n\r\nconst LoginForm = (props) => {\r\n\r\n    return (\r\n        <div className={'login__form'}>\r\n            <h1>Войти</h1>\r\n            <form onSubmit={props.handleSubmit} className={''}>\r\n                <div className={''}>\r\n                    <Field name=\"email\" type=\"email\"\r\n                           component={renderField} label=\"Email\"\r\n                           validate={[required, email]}\r\n                    />\r\n                </div>\r\n                <div className={''}>\r\n                    <Field name=\"Password\" label='Password' type='password'\r\n                           validate={[required, password]}\r\n                           component={renderField}/>\r\n                </div>\r\n                <div className={'btn__center'}>\r\n                    <button className={'btn-new'}>Войти</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password);\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={\"/profile\"}/>\r\n    }\r\n\r\n    return <div>\r\n        <LoginReduxForm onSubmit={onSubmit}/>\r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(Login);\r\n","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../redux/auth-reducer\";\r\nimport './styles.css'\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n\r\n    render() {\r\n        return <Header {...this.props} />\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    email: state.auth.email\r\n})\r\n\r\n\r\nconst Header = (props) => {\r\n\r\n    return <header className={'header'}>\r\n        <div className={'wrapper'}>\r\n        <div className={'header__left'}>\r\n            <NavLink to={'/'}>Главная</NavLink>\r\n            <NavLink to={'/profile'}>Профиль</NavLink>\r\n        </div>\r\n        <div className={'header__right'}>\r\n            {props.isAuth\r\n                ? <div>\r\n                <button className={'btn__log'} onClick={props.logout}>Выйти</button>\r\n                </div>\r\n                : <NavLink to={'/login'}>Войти</NavLink>}\r\n        </div>\r\n        </div>\r\n    </header>\r\n}\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);\r\n","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to='/login'/>\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n    return ConnectedAuthRedirectComponent;\r\n\r\n}\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\n\r\nclass Profile extends React.Component {\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className={'profile'}>\r\n            <h1>Здравствуйте!</h1>\r\n             <div className={'user'}> {this.props.email}</div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    email: state.auth.email\r\n});\r\n\r\nexport default compose( connect(mapStateToProps, {}), withAuthRedirect)(Profile)\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/video-1.59e75226.mp4\";","import React from 'react'\r\nimport './styles.css'\r\nimport video from '../video/video-1.mp4'\r\n\r\nconst Main = () => {\r\n    return (\r\n        <div className='main'>\r\n            <video src={video} autoPlay loop muted />\r\n            <h1>Добро пожаловать</h1>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Main\r\n","import React from 'react'\nimport './App.css'\nimport Login from \"./components/Login\";\nimport {Route} from \"react-router-dom\";\nimport HeaderContainer from \"./components/Header\";\nimport Profile from \"./components/Profile\";\nimport Main from \"./components/Main\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <HeaderContainer />\n\n        <Route exact path='/'\n               render={ () => <Main /> }/>\n\n        <Route exact path='/profile'\n               render={ () => <Profile /> }/>\n\n        <Route exact path='/login'\n               render={ () => <Login /> }/>\n\n    </div>\n  )\n}\n\n\n\n\n\n\n\n\nexport default App;\n","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport thunkMiddleware from \"redux-thunk\";\r\n\r\nlet reducers = combineReducers({\r\n\r\n    auth: authReducer,\r\n    form: formReducer\r\n});\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nwindow.store = store;\r\n\r\n\r\nexport default store;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {HashRouter} from \"react-router-dom\";\nimport {Provider} from \"react-redux\";\nimport store from './redux/store'\n\n\nReactDOM.render(\n    <HashRouter>\n        <Provider store={store}>\n            <App/>\n        </Provider>\n    </HashRouter>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}